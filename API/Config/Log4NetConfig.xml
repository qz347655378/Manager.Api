<?xml version="1.0" encoding="utf-8" ?>
<log4net debug="true">
	<!--记录到数据库-->
	<logger name="adoLog">
		<level value="ALL"/>
		<appender-ref ref="AdoNetAppender"/>
	</logger>
	<appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
		<bufferSize value="0"/>
		<connectionType value="System.Data.SqlClient.SqlConnection, System.Data,Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
		<connectionString value="Data Source=.;Initial Catalog=Manager;User ID=sa;Password=sa;MultipleActiveResultSets=true;"/>
		<commandText value="INSERT INTO [dbo].[SysLog]([Message],[Level],[Timestamp],[Exception],[ClientIp],[API],[ResponseStatus],[RequestMethod])VALUES(@Message,@Level,@Timestamp,@Exception,@ClientIp,@API,@ResponseStatus,@RequestMethod)"/>
		<parameter>
			<parameterName value="@Message"/>
			<dbType value="String"/>
			<size value="2048"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%message"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@Level"/>
			<dbType value="String"/>
			<size value="50"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%p"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@Timestamp"/>
			<dbType value="DateTime"/>
			<layout type="log4net.Layout.RawTimeStampLayout"/>
		</parameter>
		<parameter>
			<parameterName value="@Exception"/>
			<dbType value="String"/>
			<size value="2048"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%property{Exception}"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@ClientIp"/>
			<dbType value="String"/>
			<size value="20"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%property{ClientIp}"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@API"/>
			<dbType value="String"/>
			<size value="50"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%property{API}"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@ResponseStatus"/>
			<dbType value="String"/>
			<size value="50"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%property{ResponseStatus}"/>
			</layout>
		</parameter>
		<parameter>
			<parameterName value="@RequestMethod"/>
			<dbType value="String"/>
			<size value="20"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%property{RequestMethod}"/>
			</layout>
		</parameter>
	</appender>
</log4net>